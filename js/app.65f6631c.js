(function(e){function t(t){for(var r,u,i=t[0],c=t[1],s=t[2],l=0,f=[];l<i.length;l++)u=i[l],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&f.push(a[u][0]),a[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function u(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"860cad56"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=u(e);var s=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"21bb":function(e,t,n){"use strict";var r=n("7a98"),a=n.n(r);a.a},"34dc":function(e,t,n){"use strict";var r=n("69c7"),a=n.n(r);a.a},"3d5f":function(e){e.exports=JSON.parse('[{"keycode":"de-DE","name":"langdata_gamedata_de-de","displayName":"Deutsch","langName":"lang_de-DE"},{"keycode":"en-US","name":"langdata_gamedata_en-us","displayName":"English","langName":"lang_en-US"},{"keycode":"es-ES","name":"langdata_gamedata_es-es","displayName":"Español","langName":"lang_es-ES"},{"keycode":"fr-FR","name":"langdata_gamedata_fr-fr","displayName":"Français","langName":"lang_fr-FR"},{"keycode":"it-IT","name":"langdata_gamedata_it-it","displayName":"Italiano","langName":"lang_it-IT"},{"keycode":"pt-BR","name":"langdata_gamedata_pt-br","displayName":"Português","langName":"lang_pt-BR"},{"keycode":"ru-RU","name":"langdata_gamedata_ru-ru","displayName":"Pусский","langName":"lang_ru-RU"},{"keycode":"zh-Hans","name":"langdata_gamedata_zh-hans","displayName":"中文","langName":"lang_zh-Hans"}]')},"5c0b":function(e,t,n){"use strict";var r=n("e332"),a=n.n(r);a.a},"69c7":function(e,t,n){},"7a98":function(e,t,n){},a438:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],u=(n("6b54"),n("2397"),n("d225")),i=n("b0b4"),c=n("4e2b"),s=n("308d"),l=n("6bb5"),p=n("9ab4"),f=n("60a3"),d=(n("ac4d"),n("8a81"),n("1c4c"),n("8e6e"),n("456d"),n("75fc")),m=(n("a481"),n("5df3"),n("bd86")),g=n("768b"),y=(n("0d6d"),n("7514"),n("7f7f"),n("20d6"),n("ac6a"),n("55dd"),n("96cf"),n("3b8d")),b=n("6fc5"),h=n("2f62");r["default"].use(h["a"]);var v,O=new h["a"].Store({strict:!0}),k=n("3d5f"),j=n("d61e"),_=n.n(j),T=n("bc3a"),w=n.n(T);function E(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){i=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw o}}}}function S(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(m["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=N();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=v=function(e){Object(c["a"])(n,e);var t=I(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.theme="dark",e.module="RoI",e.targets=[{id:1,amount:2,days:15,demand:1.5}],e.products=[],e.recipes=[],e.buildings=[],e.locale={},e.productCategories=[],e.language=k.some((function(e){return e.keycode.toLowerCase()===navigator.language.toLowerCase()}))?navigator.language:"en-us",e.productOptions={},e.useSimpleRecipes=!1,e.technologies={"+2coastalharvesters":!0,"+2landharvesters":!0,"+2offshoreharvesters":!0,"+2cropfields":!0,"+2orchardfields":!0,"+2plantationfields":!0,deforestation:!0,cultivationfarmfieldsa:!0,vatfarmfieldsa:!0},e}return Object(i["a"])(n,[{key:"loadAssets",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,u,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("static/".concat(this.module,"/prods.json"));case 2:return t=e.sent.data,e.next=5,w.a.get("static/".concat(this.module,"/recipes.json"));case 5:return n=e.sent.data,e.next=8,w.a.get("static/".concat(this.module,"/productCategories.json"));case 8:return r=e.sent.data,e.next=11,w.a.get("static/".concat(this.module,"/buildings.json"));case 11:for(c in a=e.sent.data,o=[],u=[],r.sort((function(e,t){return e.uiOrder-t.uiOrder})),a.forEach((function(e,t){e.id=t,e.availableRecipes=e.availableRecipes.map((function(e){return n.findIndex((function(t){return t.object.name===e}))}))})),t.map((function(e){return e.object})).forEach((function(e,t){if(!e.productCategory){var r=n.find((function(t){return t.object.result.some((function(t){return t.productName===e.name}))}));r&&(e.productCategory="Row"+r.object.tier)}e.recipes=[],e.id=t,u.push(e)})),n.map((function(e){return e.object})).forEach((function(e,t){e.ingredients=e.ingredients.map((function(e){return Object.freeze({id:u.findIndex((function(t){return t.name===e.productName})),amount:e.amount})})),e.result=e.result.map((function(e){return Object.freeze({id:u.findIndex((function(t){return t.name===e.productName})),amount:e.amount})})),e.id=t,e.result.forEach((function(e){u[e.id].recipes.push(t)})),e.building=a.findIndex((function(e){return e.availableRecipes.some((function(e){return e===t}))})),o.push(Object.freeze(e))})),this.SET_PRODS(u),this.SET_RECIPES(o),this.SET_PRODCATS(r),this.SET_BUILDINGS(a),i={},u.filter((function(e){return e.recipes.length>1})).forEach((function(e){return i[e.id]=e.recipes[0]})),this.CLEAR_PRODUCTOPTIONS(),i)this.SET_PRODUCTOPTIONS([parseInt(c),i[c]]);case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addTarget",value:function(e){var t=Object(g["a"])(e,4),n=t[0],r=t[1],a=t[2],o=t[3];return{id:this.products.findIndex((function(e){return e.name===n.name})),amount:r,days:a,demand:o}}},{key:"removeTarget",value:function(e){return e}},{key:"setTarget",value:function(e){var t=Object(g["a"])(e,2),n=t[0],r=t[1];return[n,P(P({},r),{},{amount:Math.max(0,r.amount),days:Math.max(1,r.days),demand:Math.max(.01,r.demand)})]}},{key:"setProductOptions",value:function(e){return e}},{key:"setLocale",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all(["gamedata","scene","2130"].map(function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="static/lang/lang-langdata_".concat(r,"_").concat(t.toLowerCase(),".json"),e.next=3,w.a.get(a);case 3:return o=e.sent,o.data.forEach((function(e){return n[e.key]=e.value})),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:this.SET_LOCALE(n),this.SET_LANG(t);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setModule",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.SET_MODULE(t),e.abrupt("return",this.loadAssets());case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"switchTech",value:function(e){var t=Object(g["a"])(e,2),n=t[0],r=t[1];return[n,r]}},{key:"setTheme",value:function(e){return e}},{key:"updateSimpleRecipes",value:function(e){return e}},{key:"SET_PRODS",value:function(e){this.products=Object.freeze(e)}},{key:"SET_RECIPES",value:function(e){this.recipes=Object.freeze(e)}},{key:"SET_BUILDINGS",value:function(e){this.buildings=Object.freeze(e)}},{key:"SET_PRODCATS",value:function(e){this.productCategories=Object.freeze(e)}},{key:"CLEAR_PRODUCTOPTIONS",value:function(){f["d"].set(this,"productOptions",{})}},{key:"SET_PRODUCTOPTIONS",value:function(e){var t=Object(g["a"])(e,2),n=t[0],r=t[1];f["d"].set(this.productOptions,n,r)}},{key:"ADD_TARGET",value:function(e){var t=this.targets.findIndex((function(t){return t.id===e.id}));-1!==t?this.targets.splice(t,1,e):this.targets.push(e)}},{key:"REMOVE_TARGET",value:function(e){this.targets.splice(e,1)}},{key:"SET_TARGET",value:function(e){var t=Object(g["a"])(e,2),n=t[0],r=t[1];this.targets.splice(n,1,r)}},{key:"SET_LOCALE",value:function(e){this.locale=e}},{key:"SET_LANG",value:function(e){this.language=e}},{key:"SET_TECH",value:function(e){var t=Object(g["a"])(e,2),n=t[0],r=t[1];f["d"].set(this.technologies,n,r)}},{key:"SET_THEME",value:function(e){this.theme=e}},{key:"SET_SIMPLERECIPES",value:function(e){this.useSimpleRecipes=e}},{key:"SET_MODULE",value:function(e){this.module=e}},{key:"productsWithOptions",get:function(){return this.products.filter((function(e){return e.recipes.length>1}))}},{key:"productCategory",get:function(){var e=this;return function(t){return e.productCategories.find((function(n){return n.name===e.products[t].productCategory}))}}},{key:"languages",get:function(){return k}},{key:"localeKey",get:function(){return function(e){return e.toLowerCase().replace(/ /g,"")}}},{key:"t",get:function(){var e=this;return function(t){return e.locale[t]?e.locale[t].replace(/{.*?}/g,""):void 0}}},{key:"tp",get:function(){var e=this;return function(t){return e.locale["productdefinition.".concat(e.localeKey(t.name),".productname")]||t.displayName}}},{key:"tpc",get:function(){var e=this;return function(t){return e.locale["datacategory.".concat(e.localeKey(t),".categoryname")]}}},{key:"tr",get:function(){var e=this;return function(t){return e.locale["recipe.".concat(e.localeKey(t.name),".title")]}}},{key:"tb",get:function(){var e=this;return function(t){return e.locale["building.".concat(e.localeKey(t.name),".buildingname")]}}},{key:"ttech",get:function(){var e=this;return function(t){return e.t("techtreegenericunlock.".concat(e.localeKey(t),".unlockname"))||t}}},{key:"buildingByName",get:function(){var e=this;return function(t){return e.buildings.find((function(e){return e.name===t}))}}},{key:"modulesCount",get:function(){var e=this;return function(t){return t.name in v.TechsForBuilding&&e.technologies[v.TechsForBuilding[t.name]]||t.category in v.TechsForCats&&e.technologies[v.TechsForCats[t.category]]?5:3}}},{key:"productRecipe",get:function(){var e=this;return function(t){return e.recipes[e.products[t].recipes.length>1?e.productOptions[t]:e.products[t].recipes[0]]}}},{key:"flow",get:function(){var e=this;return function(t,n,r){var a={},o=e.productRecipe(t),u=o.result.find((function(e){return e.id===t})),i=e.useSimpleRecipes?Math.max(15,15*Math.round(o.gameDays/15)):o.gameDays,c=("number"===typeof n?new _.a(n):n).mul(i).div(u.amount).div(r);a[o.id]=c;var s,l=E(o.ingredients);try{for(l.s();!(s=l.n()).done;){var p=s.value,f=e.flow(p.id,c.mul(p.amount),i);for(var d in f)a[d]=(a[d]||new _.a(0)).add(f[d])}}catch(m){l.e(m)}finally{l.f()}return a}}},{key:"result",get:function(){var e=this,t=Object(d["a"])(this.targets).map((function(e){return P({},e)})),n={};while(t.some((function(e){return e.amount>0}))){var r=t.findIndex((function(e){return e.amount>0})),a=t[r],o=this.flow(a.id,a.amount,a.days),u=function(r){n[r]=(n[r]||new _.a(0)).add(o[r]),e.recipes[r].result.forEach((function(a){var o=t.findIndex((function(e){return e.id===a.id}));-1!==o&&(t[o].amount-=n[r].mul(t[o].days).mul(a.amount).div(e.recipes[r].gameDays).valueOf())}))};for(var i in o)u(i)}return n}},{key:"upkeep",get:function(){return function(e,t){return e+3*t}}},{key:"productPrice",get:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.productRecipe(t),a=e.ingredientsValue(r),o=r.result.reduce((function(e,t){return e+t.amount}),0),u=r.result.find((function(e){return e.id===t})),i=r.requiredModules.length&&e.buildingByName(r.requiredModules[0].buildingName).moduleUpkeep||0,c=e.upkeep(e.buildings[r.building].upkeep?e.buildings[r.building].upkeep.totalMonthlyUpkeep:0,i),s=new Function("ingredientsValue","upkeep","recipeDays","recipeOutput","productOutput","return "+e.products[t].price);return s(a,c,r.gameDays,o,u.amount)*(n?1:e.productCategory(t).priceMultiplier||1)}}},{key:"ingredientsValue",get:function(){var e=this;return function(t){return t.ingredients.reduce((function(t,n){return t+e.productPrice(n.id,!0)*n.amount}),0)}}}]),n}(b["d"]);A.TechsForBuilding={CropFarm:"+2cropfields",LivestockFarm:"deforestation",OrchardFarm:"+2orchardfields",PlantationFarm:"+2plantationfields","Vat Farm":"vatfarmfieldsa","Cultivation Farm":"cultivationfarmfieldsa"},A.TechsForCats={CoastalGatherers:"+2coastalharvesters",LandGatherers:"+2landharvesters",OffshoreGatherers:"+2offshoreharvesters"},Object(p["a"])([Object(b["a"])({rawError:!0})],A.prototype,"loadAssets",null),Object(p["a"])([Object(b["a"])({commit:"ADD_TARGET",rawError:!0})],A.prototype,"addTarget",null),Object(p["a"])([Object(b["a"])({commit:"REMOVE_TARGET",rawError:!0})],A.prototype,"removeTarget",null),Object(p["a"])([Object(b["a"])({commit:"SET_TARGET",rawError:!0})],A.prototype,"setTarget",null),Object(p["a"])([Object(b["a"])({commit:"SET_PRODUCTOPTIONS"})],A.prototype,"setProductOptions",null),Object(p["a"])([Object(b["a"])({rawError:!0})],A.prototype,"setLocale",null),Object(p["a"])([Object(b["a"])({rawError:!0})],A.prototype,"setModule",null),Object(p["a"])([Object(b["a"])({commit:"SET_TECH"})],A.prototype,"switchTech",null),Object(p["a"])([Object(b["a"])({commit:"SET_THEME",rawError:!0})],A.prototype,"setTheme",null),Object(p["a"])([Object(b["a"])({commit:"SET_SIMPLERECIPES"})],A.prototype,"updateSimpleRecipes",null),Object(p["a"])([b["c"]],A.prototype,"SET_PRODS",null),Object(p["a"])([b["c"]],A.prototype,"SET_RECIPES",null),Object(p["a"])([b["c"]],A.prototype,"SET_BUILDINGS",null),Object(p["a"])([b["c"]],A.prototype,"SET_PRODCATS",null),Object(p["a"])([b["c"]],A.prototype,"CLEAR_PRODUCTOPTIONS",null),Object(p["a"])([b["c"]],A.prototype,"SET_PRODUCTOPTIONS",null),Object(p["a"])([b["c"]],A.prototype,"ADD_TARGET",null),Object(p["a"])([b["c"]],A.prototype,"REMOVE_TARGET",null),Object(p["a"])([b["c"]],A.prototype,"SET_TARGET",null),Object(p["a"])([b["c"]],A.prototype,"SET_LOCALE",null),Object(p["a"])([b["c"]],A.prototype,"SET_LANG",null),Object(p["a"])([b["c"]],A.prototype,"SET_TECH",null),Object(p["a"])([b["c"]],A.prototype,"SET_THEME",null),Object(p["a"])([b["c"]],A.prototype,"SET_SIMPLERECIPES",null),Object(p["a"])([b["c"]],A.prototype,"SET_MODULE",null),A=v=Object(p["a"])([Object(b["b"])({dynamic:!0,store:O,name:"app"})],A);var L=Object(b["e"])(A);function x(e){var t=D();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var M=function(e){Object(c["a"])(n,e);var t=x(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"updateTheme",value:function(){document.documentElement.className=L.theme}},{key:"created",value:function(){this.updateTheme()}},{key:"theme",get:function(){return L.theme}}]),n}(f["d"]);Object(p["a"])([Object(f["e"])("theme")],M.prototype,"updateTheme",null),M=Object(p["a"])([f["a"]],M);var G=M,B=G,U=(n("5c0b"),n("2877")),z=Object(U["a"])(B,a,o,!1,null,null,null),F=z.exports,q=n("8c4f"),$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{mode:"out-in",name:"fade"}},[e.loading?r("img",{attrs:{src:n("cf1c")}}):e._e(),e.loading?e._e():r("div",[r("header",{staticClass:"sticky-top"},[r("b-navbar",[r("b-nav-form",{staticClass:"flex-fill"},[r("ProductForm",{attrs:{size:"lg"},model:{value:e.newTarget,callback:function(t){e.newTarget=t},expression:"newTarget"}}),r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.recipe-options",modifiers:{"recipe-options":!0}}],staticClass:"ml-1",attrs:{size:"lg",variant:"outline-primary"}},[e._v(e._s(e.tt(e.LANG_SETTINGS)))])],1),r("b-nav-form",[r("b-radio-group",{attrs:{options:["RoI","RoI 2130"],checked:e.module},on:{input:e.changeModule}}),r("b-radio-group",{attrs:{options:["light","dark"],buttons:"","button-variant":"outline-primary",checked:e.theme},on:{input:e.themeChanged}}),r("b-form-select",{attrs:{value:e.language.toLowerCase(),options:e.languages.map((function(e){return{text:e.displayName,value:e.keycode.toLowerCase()}}))},on:{input:e.changeLocale}})],1)],1),r("b-collapse",{attrs:{id:"recipe-options"},model:{value:e.showOptions,callback:function(t){e.showOptions=t},expression:"showOptions"}},[r("b-form-checkbox",{attrs:{checked:e.useSimpleRecipes,switch:"",size:"lg",title:e.tt(e.LANG_SIMPLE_RECIPES_DESC),"button-variant":"primary"},on:{input:function(t){return e.updateSimpleRecipes(t)}}},[e._v(e._s(e.tt(e.LANG_SIMPLE_RECIPES)))]),e._l(e.options,(function(t,n){return r("b-form-group",{key:n,attrs:{label:e.tp(e.products[n])}},[r("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-primary",checked:t},on:{input:function(t){return e.setProductRecipe(n,t)}}},e._l(e.products[n].recipes,(function(t){return r("b-form-radio",{attrs:{value:t}},[e._v(e._s(e.tb(e.buildings[e.recipes[t].building])))])})),1)],1)})),e._l(e.techs,(function(t,n){return r("b-form-checkbox",{key:n,attrs:{checked:t,switch:"",size:"lg","button-variant":"primary"},on:{input:function(t){return e.onTechSwitch(n,t)}}},[e._v(e._s(e.ttech(n)))])}))],2),r("b-collapse",{attrs:{id:"recipe-select"},model:{value:e.showSelect,callback:function(t){e.showSelect=t},expression:"showSelect"}},[r("b-nav",e._l(e.productCategories,(function(t,n){return r("b-nav-item",{key:t.name},[r("b-dropdown",{attrs:{text:e.tpc(t.name)||t.categoryName,variant:"outline-primary",lazy:"","menu-class":[e.productsOf(t.name).length>10?"columns":""]}},e._l(e.productsOf(t.name),(function(t,n){return r("b-dropdown-item",{key:t.name,attrs:{title:e.tp(t)},on:{click:function(n){return e.addTarget(t)}}},[e._v(e._s(e.tp(t)))])})),1)],1)})),1)],1),r("h3",[e._v(e._s(e.tt(e.LANG_TARGETS)))]),r("b-list-group",e._l(e.targets,(function(t,n){return r("b-list-group-item",[r("ProductForm",{key:n,attrs:{value:t,deletable:"true"},on:{input:function(t){return e.updateTarget(n,t)},delete:function(t){return e.removeTarget(n)}}})],1)})),1)],1),r("h3",[e._v(e._s(e.tt(e.LANG_BUDGET)))]),r("tree-table",{attrs:{data:e.treeItems,columns:[{title:e.tt(e.LANG_BUILDINGS),key:"name"},{title:e.tt(e.LANG_MARKETVALUE),key:"flow"},{title:e.tt(e.LANG_BUILDINGCOST)+", $",key:"cost",type:"template",template:"cost"}],"is-fold":!1,selectable:!1,"expand-type":!1,"show-summary":!0,"summary-method":e.calcSummary,"empty-text":"no results","sum-text":"Total"},scopedSlots:e._u([{key:"cost",fn:function(t){return[e._v("\n      "+e._s(e._f("cost")(e.displayCost(t)))+"\n    ")]}}],null,!1,335799189)})],1)])},V=[],H=n("1947"),K=n("50a6"),J=n("5e12"),Y=n("4797"),W=n("dd9a"),Q=n("9eaa"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.recipes[e.recipeId].name)+": "+e._s(e.flow.toFraction(!0))+" of "),n("span",[e._v(e._s(e.building.displayName))]),n("div",{staticClass:"d-flex"},[n("span",{staticClass:"building-count align-self-center mr-2"},[e._v(e._s(e.flow.toFraction(!0))+" x ")]),e._l(e.int,(function(t){return n("div",{key:t,staticClass:"building d-flex justify-content-center",class:{"has-image":e.building.constructionBarIcon},style:{backgroundImage:e.backgroundImage}},[n("span",{staticClass:"align-self-center"},[e._v(e._s(e.building.displayName))])])})),e.frac?n("div",{staticClass:"building frac-building position-relative d-flex justify-content-center",class:{"has-image":e.building.constructionBarIcon},style:{backgroundImage:e.backgroundImage}},[n("span",{staticClass:"align-self-center"},[e._v(e._s(e.building.displayName))]),n("div",{staticClass:"frac-building-mask",style:{width:100*(1-e.frac)+"%"}})]):e._e()],2)])},Z=[];n("673e");function ee(e){var t=te();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ne=function(e){Object(c["a"])(n,e);var t=ee(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.farmsCount=3,e.harvesterCount=3,e}return Object(i["a"])(n,[{key:"int",get:function(){return this.flow.floor().n}},{key:"frac",get:function(){return this.flow.sub(this.int).valueOf()}},{key:"building",get:function(){return this.recipe.requiredModules.length?L.buildingByName(this.recipe.requiredModules[0].buildingName):L.buildings[L.recipes[this.recipeId].building]}},{key:"buildingImage",get:function(){return function(e){return"/static/buildings/"+e.constructionBarIcon.replace(/-/g,"_")+".png"}}},{key:"backgroundImage",get:function(){return this.building.constructionBarIcon?"url( ".concat(this.buildingImage(this.building)," )"):"none"}},{key:"recipe",get:function(){return L.recipes[this.recipeId]}},{key:"recipes",get:function(){return L.recipes}},{key:"products",get:function(){return L.products}},{key:"buildings",get:function(){return L.buildings}}]),n}(f["d"]);Object(p["a"])([Object(f["c"])({required:!0})],ne.prototype,"recipeId",void 0),Object(p["a"])([Object(f["c"])({required:!0})],ne.prototype,"flow",void 0),ne=Object(p["a"])([f["a"]],ne);var re=ne,ae=re,oe=(n("34dc"),Object(U["a"])(ae,X,Z,!1,null,null,null)),ue=oe.exports;function ie(e){return e?e>=1e6?Math.round(e/1e4)/100+"M":Math.round(e/10)/100+"k":""}function ce(e){if(!e)return"";var t=Math.floor(e/360),n=Math.floor(e%360/30),r=Math.floor(e%30);return"".concat(t?t+"Y ":"").concat(n?n+"m ":"").concat(r,"d")}var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!==e.value?n("b-button-group",{staticClass:"d-flex"},[void 0!==e.value.id?n("b-button",{staticClass:"flex-fill w-100",attrs:{size:e.size}},[e._v(e._s(e.tp(e.products[e.value.id])))]):n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.recipe-select",modifiers:{"recipe-select":!0}}],attrs:{size:e.size,variant:"primary",id:"add-button"}},[e._v("+")]),n("b-input-group",{staticClass:"ml-1",attrs:{size:e.size,prepend:e.tt(e.LANG_AMOUNT)}},[n("b-form-input",{ref:"amount",staticClass:"input-number",attrs:{type:"number",placeholder:"amount",value:e.value.amount},on:{input:function(t){e.updateTarget("amount",parseInt(t))}}})],1),n("b-input-group",{staticClass:"ml-1",attrs:{size:e.size,prepend:"per"},scopedSlots:e._u([{key:"append",fn:function(){return[n("b-dropdown",{attrs:{text:"",variant:"outline-primary"}},e._l([10,15,20,30,60,120],(function(t){return n("b-dropdown-item",{on:{click:function(n){return e.updateTarget("days",t)}}},[e._v(e._s(t))])})),1),n("b-input-group-append",[n("b-input-group-text",[e._v(e._s(e.tt(e.LANG_DAYS)))])],1)]},proxy:!0}],null,!1,3607722935)},[n("b-form-input",{ref:"days",staticClass:"input-number",attrs:{type:"number",placeholder:"days",value:e.value.days},on:{input:function(t){e.updateTarget("days",parseInt(t))}}})],1),n("b-input-group",{staticClass:"ml-1",attrs:{size:e.size,append:"%"}},[n("b-form-input",{ref:"demand",staticClass:"input-number",attrs:{type:"number",min:"0",value:100*e.value.demand},on:{input:function(t){e.updateTarget("demand",parseInt(t)/100)}}})],1),void 0!==e.value.id?n("b-input-group",{attrs:{prepend:e.tt(e.LANG_SALEPRICE),append:"$"}},[n("b-form-input",{attrs:{readonly:"",value:e._f("cost")(e.productPrice(e.value.id)*e.value.demand)}})],1):e._e(),e.deletable?n("b-button-close",{staticClass:"ml-1 text-monospace",attrs:{variant:"danger",size:"lg"},on:{click:function(t){return e.$emit("delete")}}}):e._e()],1):e._e()},le=[];function pe(e){var t=fe();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var de=function(e){Object(c["a"])(n,e);var t=pe(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.LANG_TOTAL="ui.fullscreenpanels.buildingproductionoverview.productinfo.viewport.content.productinfo.infoarea.columntitles.lastyearconsumption",e.LANG_SALEPRICE="datacategory.worldeventeffectproductprice.categoryname",e.LANG_DAYS="ui.windows._static_recipebookpanel.recipepanelarea.recipediagramarea.recipeproductiontimearea.producetimeamount",e.LANG_TARGETS="totalsalesviewmodel.budgetpanel.productcollectionname",e.LANG_BUILDINGS="ui.fullscreenpanels.budgetpanel.sidebar.scrollviewfilterarea.viewport.content.buildings.title.active.filtertext",e.LANG_BUILDINGCOST="datacategory.worldeventeffectbuildingcost.categoryname",e.LANG_MARKETVALUE="ui.fullscreenpanels.buildingproductionoverview.productinfo.viewport.content.productinfo.infoarea.columntitles.marketvalue",e.LANG_AMOUNT="tooltipcanvas.producttooltip.content.amountneeded",e.LANG_SETTINGS="mainmenu.wrapper.navigation.main.settingslink",e.LANG_SIMPLE_RECIPES="difficultyoptionbool.easychains.displayname",e.LANG_SIMPLE_RECIPES_DESC="difficultyoptionbool.easychains.description",e.LANG_BUDGET="ui.fullscreenpanels.budgetpanel.sidebar.scrollviewfilterarea.viewport.content.totalbudget.category.active.filtertext",e}return n}(f["d"]);de=Object(p["a"])([f["a"]],de);var me=de;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(m["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=he();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ve=function(e){Object(c["a"])(n,e);var t=be(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"updateTarget",value:function(e,t){this.$emit("input",ye(ye({},this.value),{},Object(m["a"])({},e,t)))}},{key:"tp",get:function(){return L.tp}},{key:"tt",get:function(){return L.t}},{key:"products",get:function(){return L.products}},{key:"productPrice",get:function(){return function(e){return Math.round(L.productPrice(e))}}}]),n}(Object(f["b"])(me));Object(p["a"])([Object(f["c"])({required:!0})],ve.prototype,"value",void 0),Object(p["a"])([Object(f["c"])({default:!1})],ve.prototype,"deletable",void 0),Object(p["a"])([Object(f["c"])({default:"md"})],ve.prototype,"size",void 0),ve=Object(p["a"])([f["a"]],ve);var Oe=ve,ke=Oe,je=(n("fbb8"),Object(U["a"])(ke,se,le,!1,null,null,null)),_e=je.exports;function Te(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=we(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){i=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw o}}}}function we(e,t){if(e){if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e){var t=Re();return function(){var n,r=Object(l["a"])(e);if(t){var a=Object(l["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s["a"])(this,n)}}function Re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ce=function(e){Object(c["a"])(n,e);var t=Se(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.newTarget={amount:2,days:15,demand:1.5},e.showSelect=!1,e.showOptions=!1,e.loading=!0,e}return Object(i["a"])(n,[{key:"calcSummary",value:function(e,t,n){if("name"===t.key)return L.t(this.LANG_TOTAL);var r=e.reduce((function(e,t){return e+(parseInt(t["cost"])||0)}),0);return"cost"===t.key?ie(r):"flow"===t.key?ce(r/this.totalProductPrices):void 0}},{key:"setProductRecipe",value:function(e,t){L.setProductOptions([e,t])}},{key:"created",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,L.setLocale(L.language);case 3:return e.next=5,L.loadAssets();case 5:this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"displayCost",value:function(e){return e.row._isFold&&e.row.children&&e.row.children.length>0?this.sumChildrenCosts(e.row):e.row.cost}},{key:"changeLocale",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,L.setLocale(t);case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeModule",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,L.setModule(t);case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sumChildrenCosts",value:function(e){var t=this;return(parseInt(e.cost)||0)+(e.children?e.children.reduce((function(e,n){return e+t.sumChildrenCosts(n)}),0):0)}},{key:"addTarget",value:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.addTarget([t,this.newTarget.amount,this.newTarget.days,this.newTarget.demand]);case 2:this.showSelect=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeTarget",value:function(e){L.removeTarget(e)}},{key:"updateTarget",value:function(e,t){L.setTarget([e,t])}},{key:"onTechSwitch",value:function(e,t){L.switchTech([e,t])}},{key:"themeChanged",value:function(e){L.setTheme(e)}},{key:"updateSimpleRecipes",value:function(e){L.updateSimpleRecipes(e)}},{key:"theme",get:function(){return L.theme}},{key:"module",get:function(){return L.module}},{key:"recipes",get:function(){return L.recipes}},{key:"products",get:function(){return L.products}},{key:"buildings",get:function(){return L.buildings}},{key:"options",get:function(){return L.productOptions}},{key:"productsOf",get:function(){return function(e){return L.products.filter((function(t){return t.productCategory===e}))}}},{key:"productCategories",get:function(){return L.productCategories}},{key:"targets",get:function(){return L.targets}},{key:"result",get:function(){return L.result}},{key:"resultOf",get:function(){return function(e){return Object.keys(L.result).map((function(e){return parseInt(e)})).filter((function(t){return L.products[L.recipes[t].result[0].id].productCategory===e})).reduce((function(e,t){return e[t]=L.result[t],e}),{})}}},{key:"techs",get:function(){return L.technologies}},{key:"language",get:function(){return L.language}},{key:"languages",get:function(){return L.languages}},{key:"productPrice",get:function(){return function(e){return Math.round(L.productPrice(e))}}},{key:"totalProductPrices",get:function(){return L.targets.reduce((function(e,t){return e+L.productPrice(t.id)*t.demand*t.amount/t.days}),0)}},{key:"buildingsFlow",get:function(){return function(e){L.recipes[e].result.map((function(e){return e.amount}))}}},{key:"building",get:function(){return function(e){return L.recipes[e].requiredModules.length?L.buildingByName(L.recipes[e].requiredModules[0].buildingName):L.buildings[L.recipes[e].building]}}},{key:"treeItems",get:function(){var e,t=this,n=[],r=Te(this.productCategories);try{var a=function(){var r=e.value,a=t.resultOf(r.name);if(Object.keys(a).length>0)n.push({name:t.tpc(r.name)||r.name,children:Object.keys(a).map((function(e){return parseInt(e)})).map((function(e){return{name:t.tr(t.recipes[e])||t.recipes[e].displayName,flow:a[e].toFraction(!0),children:t.resultRecipeBuildingsTree(e,a[e])}}))})};for(r.s();!(e=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return n}},{key:"resultRecipeBuildingsTree",get:function(){var e=this;return function(t,n){var r=L.buildings[L.recipes[t].building];if(!L.recipes[t].requiredModules.length)return Array.from(Array(n.ceil().valueOf()),(function(){return{name:e.tb(r)||r.displayName,cost:r.baseCost}}));var a=n.ceil().valueOf(),o=L.buildingByName(L.recipes[t].requiredModules[0].buildingName),u=L.modulesCount(r),i=Math.floor(a/u),c=a-i*u,s=Array.from(Array(i)).map((function(){return{name:e.tb(r)||r.displayName,cost:r.baseCost,children:Object(d["a"])(Array(u)).map((function(){return{name:e.tb(o)||o.displayName,cost:o.baseCost}}))}}));return c>0&&s.push({name:e.tb(r)||r.displayName,cost:r.baseCost,children:Array.from(Array(c)).map((function(){return{name:e.tb(o)||o.displayName,cost:o.baseCost}}))}),s}}},{key:"tt",get:function(){return L.t}},{key:"tp",get:function(){return L.tp}},{key:"tpc",get:function(){return L.tpc}},{key:"tr",get:function(){return L.tr}},{key:"tb",get:function(){return L.tb}},{key:"ttech",get:function(){return L.ttech}},{key:"useSimpleRecipes",get:function(){return L.useSimpleRecipes}}]),n}(Object(f["b"])(me));Ce=Object(p["a"])([Object(f["a"])({components:{ProductResult:ue,ProductForm:_e,BButton:H["a"],BNavForm:K["a"],BInputGroup:J["a"],BFormInput:Y["a"],BDropdown:W["a"],BDropdownItem:Q["a"]}})],Ce);var Pe=Ce,Ie=Pe,Ne=(n("21bb"),Object(U["a"])(Ie,$,V,!1,null,null,null)),Ae=Ne.exports;r["default"].use(q["a"]);var Le=new q["a"]({routes:[{path:"/",name:"home",component:Ae},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),xe=n("5f5b"),De=n("ee1a"),Me=n.n(De);r["default"].use(Me.a),r["default"].use(xe["a"]),r["default"].config.productionTip=!1,r["default"].filter("cost",ie),r["default"].filter("period",ce),new r["default"]({router:Le,store:O,render:function(e){return e(F)}}).$mount("#app")},cf1c:function(e,t,n){e.exports=n.p+"img/loading.00941846.gif"},e332:function(e,t,n){},fbb8:function(e,t,n){"use strict";var r=n("a438"),a=n.n(r);a.a}});
//# sourceMappingURL=app.65f6631c.js.map